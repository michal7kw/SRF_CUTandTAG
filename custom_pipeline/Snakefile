# Snakefile for cut&tag analysis

import os
from os.path import join
from snakemake.utils import min_version

# Set minimum snakemake version
min_version("6.0")

# Load configuration from config.yaml file
configfile: "config.yaml"

# Define resource configurations
resource_config = {
    "fastqc": {"mem_mb": 8000, "ntasks": 2, "runtime": 120},      # 2 hours
    "trim_reads": {"mem_mb": 16000, "ntasks": 8, "runtime": 360}, # 6 hours
    "align": {"mem_mb": 32000, "ntasks": 16, "runtime": 720},     # 12 hours
    "call_peaks": {"mem_mb": 16000, "ntasks": 8, "runtime": 480}, # 8 hours
    "fragment_sizes": {"mem_mb": 8000, "ntasks": 4, "runtime": 60} # 1 hour
}

# Define local rules
localrules: all, multiqc

# raw fastq files for each experiment
EXOGENOUS = "DATA/EXOGENOUS"
ENDOGENOUS = "DATA/ENDOGENOUS"

# rest of your existing code...